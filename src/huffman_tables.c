#include "dct.h"

/*
* Predefined Huffman tables for luminance DC and AC coefficients.
* ISO/IEC 10918-1 (JPEG Standard, Annex K.3)
*/

const HuffmanCode huff_dc_lum[16] = {
    {0x00, 2},  // Size 0
    {0x02, 3},  // Size 1
    {0x03, 3},  // Size 2
    {0x04, 3},  // Size 3
    {0x05, 3},  // Size 4
    {0x06, 3},  // Size 5
    {0x0E, 4},  // Size 6
    {0x1E, 5},  // Size 7
    {0x3E, 6},  // Size 8
    {0x7E, 7},  // Size 9
    {0xFE, 8},  // Size 10
    {0x1FE, 9}, // Size 11
    {0,0}, {0,0}, {0,0}, {0,0} // 12-15 not used in standard DC lum
};

// Standard AC Luminance Table
const HuffmanCode huff_ac_lum[256] = {
    
    // --- Length 2 (Codes: 00..01) ---
    [0x01] = {0x0000, 2}, 
    [0x02] = {0x0001, 2}, 

    // --- Length 3 (Code: 100) ---
    [0x03] = {0x0004, 3}, 

    // --- Length 4 (Codes: 1010..1100) ---
    [0x00] = {0x000A, 4}, // EOB (End of Block)
    [0x04] = {0x000B, 4}, 
    [0x11] = {0x000C, 4}, 

    // --- Length 5 (Codes: 11010..11100) ---
    [0x05] = {0x001A, 5}, 
    [0x12] = {0x001B, 5}, 
    [0x21] = {0x001C, 5}, 

    // --- Length 6 (Codes: 111010..111011) ---
    [0x31] = {0x003A, 6}, 
    [0x41] = {0x003B, 6}, 

    // --- Length 7 (Codes: 1111000..1111011) ---
    [0x06] = {0x0078, 7}, 
    [0x13] = {0x0079, 7}, 
    [0x51] = {0x007A, 7}, 
    [0x61] = {0x007B, 7}, 

    // --- Length 8 (Codes: 11111000..11111010) ---
    [0x07] = {0x00F8, 8}, 
    [0x22] = {0x00F9, 8}, 
    [0x71] = {0x00FA, 8}, 

    // --- Length 9 (Codes: 111110110..111111010) ---
    [0x14] = {0x01F6, 9}, 
    [0x32] = {0x01F7, 9}, 
    [0x81] = {0x01F8, 9}, 
    [0x91] = {0x01F9, 9}, 
    [0xA1] = {0x01FA, 9}, 

    // --- Length 10 (Codes: 1111110110..1111111010) ---
    [0x08] = {0x03F6, 10}, 
    [0x23] = {0x03F7, 10}, 
    [0x42] = {0x03F8, 10}, 
    [0xB1] = {0x03F9, 10}, 
    [0xC1] = {0x03FA, 10}, 

    // --- Length 11 (Codes: 11111110110..11111111001) ---
    [0x15] = {0x07F6, 11}, 
    [0x52] = {0x07F7, 11}, 
    [0xD1] = {0x07F8, 11}, 
    [0xF0] = {0x07F9, 11}, // ZRL (16 Zeros) - CORRECT (11111111001)

    // --- Length 12 (Codes: 111111110100..111111110111) ---
    [0x24] = {0x0FF4, 12}, 
    [0x33] = {0x0FF5, 12}, 
    [0x62] = {0x0FF6, 12}, 
    [0x72] = {0x0FF7, 12}, 

    // --- Length 13, 14 skipped (count = 0) ---

    // --- Length 15 (Code: 111111111000000) ---
    [0x82] = {0x7FC0, 15}, 

    // --- Length 16 (Codes: 1111111110000010 ... onwards) ---
    [0x09] = {0xFF82, 16}, 
    [0x0A] = {0xFF83, 16}, 
    [0x16] = {0xFF84, 16}, 
    [0x17] = {0xFF85, 16}, 
    [0x18] = {0xFF86, 16}, 
    [0x19] = {0xFF87, 16}, 
    [0x1A] = {0xFF88, 16}, 
    [0x25] = {0xFF89, 16}, 
    [0x26] = {0xFF8A, 16}, 
    [0x27] = {0xFF8B, 16}, 
    [0x28] = {0xFF8C, 16}, 
    [0x29] = {0xFF8D, 16}, 
    [0x2A] = {0xFF8E, 16}, 
    [0x34] = {0xFF8F, 16}, 
    [0x35] = {0xFF90, 16}, 
    [0x36] = {0xFF91, 16}, 
    [0x37] = {0xFF92, 16}, 
    [0x38] = {0xFF93, 16}, 
    [0x39] = {0xFF94, 16}, 
    [0x3A] = {0xFF95, 16}, 
    [0x43] = {0xFF96, 16}, 
    [0x44] = {0xFF97, 16}, 
    [0x45] = {0xFF98, 16}, 
    [0x46] = {0xFF99, 16}, 
    [0x47] = {0xFF9A, 16}, 
    [0x48] = {0xFF9B, 16}, 
    [0x49] = {0xFF9C, 16}, 
    [0x4A] = {0xFF9D, 16}, 
    [0x53] = {0xFF9E, 16}, 
    [0x54] = {0xFF9F, 16}, 
    [0x55] = {0xFFA0, 16}, 
    [0x56] = {0xFFA1, 16}, 
    [0x57] = {0xFFA2, 16}, 
    [0x58] = {0xFFA3, 16}, 
    [0x59] = {0xFFA4, 16}, 
    [0x5A] = {0xFFA5, 16}, 
    [0x63] = {0xFFA6, 16}, 
    [0x64] = {0xFFA7, 16}, 
    [0x65] = {0xFFA8, 16}, 
    [0x66] = {0xFFA9, 16}, 
    [0x67] = {0xFFAA, 16}, 
    [0x68] = {0xFFAB, 16}, 
    [0x69] = {0xFFAC, 16}, 
    [0x6A] = {0xFFAD, 16}, 
    [0x73] = {0xFFAE, 16}, 
    [0x74] = {0xFFAF, 16}, 
    [0x75] = {0xFFB0, 16}, 
    [0x76] = {0xFFB1, 16}, 
    [0x77] = {0xFFB2, 16}, 
    [0x78] = {0xFFB3, 16}, 
    [0x79] = {0xFFB4, 16}, 
    [0x7A] = {0xFFB5, 16}, 
    [0x83] = {0xFFB6, 16}, 
    [0x84] = {0xFFB7, 16}, 
    [0x85] = {0xFFB8, 16}, 
    [0x86] = {0xFFB9, 16}, 
    [0x87] = {0xFFBA, 16}, 
    [0x88] = {0xFFBB, 16}, 
    [0x89] = {0xFFBC, 16}, 
    [0x8A] = {0xFFBD, 16}, 
    [0x92] = {0xFFBE, 16}, 
    [0x93] = {0xFFBF, 16}, 
    [0x94] = {0xFFC0, 16}, 
    [0x95] = {0xFFC1, 16}, 
    [0x96] = {0xFFC2, 16}, 
    [0x97] = {0xFFC3, 16}, 
    [0x98] = {0xFFC4, 16}, 
    [0x99] = {0xFFC5, 16}, 
    [0x9A] = {0xFFC6, 16}, 
    [0xA2] = {0xFFC7, 16}, 
    [0xA3] = {0xFFC8, 16}, 
    [0xA4] = {0xFFC9, 16}, 
    [0xA5] = {0xFFCA, 16}, 
    [0xA6] = {0xFFCB, 16}, 
    [0xA7] = {0xFFCC, 16}, 
    [0xA8] = {0xFFCD, 16}, 
    [0xA9] = {0xFFCE, 16}, 
    [0xAA] = {0xFFCF, 16}, 
    [0xB2] = {0xFFD0, 16}, 
    [0xB3] = {0xFFD1, 16}, 
    [0xB4] = {0xFFD2, 16}, 
    [0xB5] = {0xFFD3, 16}, 
    [0xB6] = {0xFFD4, 16}, 
    [0xB7] = {0xFFD5, 16}, 
    [0xB8] = {0xFFD6, 16}, 
    [0xB9] = {0xFFD7, 16}, 
    [0xBA] = {0xFFD8, 16}, 
    [0xC2] = {0xFFD9, 16}, 
    [0xC3] = {0xFFDA, 16}, 
    [0xC4] = {0xFFDB, 16}, 
    [0xC5] = {0xFFDC, 16}, 
    [0xC6] = {0xFFDD, 16}, 
    [0xC7] = {0xFFDE, 16}, 
    [0xC8] = {0xFFDF, 16}, 
    [0xC9] = {0xFFE0, 16}, 
    [0xCA] = {0xFFE1, 16}, 
    [0xD2] = {0xFFE2, 16}, 
    [0xD3] = {0xFFE3, 16}, 
    [0xD4] = {0xFFE4, 16}, 
    [0xD5] = {0xFFE5, 16}, 
    [0xD6] = {0xFFE6, 16}, 
    [0xD7] = {0xFFE7, 16}, 
    [0xD8] = {0xFFE8, 16}, 
    [0xD9] = {0xFFE9, 16}, 
    [0xDA] = {0xFFEA, 16}, 
    [0xE1] = {0xFFEB, 16}, 
    [0xE2] = {0xFFEC, 16}, 
    [0xE3] = {0xFFED, 16}, 
    [0xE4] = {0xFFEE, 16}, 
    [0xE5] = {0xFFEF, 16}, 
    [0xE6] = {0xFFF0, 16}, 
    [0xE7] = {0xFFF1, 16}, 
    [0xE8] = {0xFFF2, 16}, 
    [0xE9] = {0xFFF3, 16}, 
    [0xEA] = {0xFFF4, 16}, 
    [0xF1] = {0xFFF5, 16}, 
    [0xF2] = {0xFFF6, 16}, 
    [0xF3] = {0xFFF7, 16}, 
    [0xF4] = {0xFFF8, 16}, 
    [0xF5] = {0xFFF9, 16}, 
    [0xF6] = {0xFFFA, 16}, 
    [0xF7] = {0xFFFB, 16}, 
    [0xF8] = {0xFFFC, 16}, 
    [0xF9] = {0xFFFD, 16}, 
    [0xFA] = {0xFFFE, 16}
};